(function(){"use strict";var p={};(function(){p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,{a:t}),t}})(),function(){p.d=function(e,t){for(var s in t)p.o(t,s)&&!p.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var x={},l=Object(window.WPD).global,d=Object(window.WPD).utils;l.AslPlugin.prototype.setFilterStateInput=function(e){let t=this;typeof e>"u"&&(e=65);let s=function(){JSON.stringify(t.originalFormData)!=JSON.stringify((0,d.formData)(t.n("searchsettings").find("form")))?t.n("searchsettings").find("input[name=filters_initial]").val(0):t.n("searchsettings").find("input[name=filters_initial]").val(1)};e==0?s():setTimeout(function(){s()},e)};var A=null;const h=window.ASL;l.AslPlugin.prototype.gaPageview=function(e){let t=this,s=t.gaGetTrackingID();if(typeof h.analytics>"u"||h.analytics.method!="pageview")return!1;if(h.analytics.string!=""){let i=typeof window.__gaTracker=="function"?window.__gaTracker:typeof window.ga=="function"?window.ga:!1,o=typeof window.gtag=="function"?window.gtag:!1,u=t.o.homeurl.replace(window.location.origin,"");if(o!==!1)s!==!1&&s.forEach(function(a){o("config",a,{page_path:u+h.analytics.string.replace("{asl_term}",e)})});else if(i!==!1){let a={page:u+h.analytics.string.replace("{asl_term}",e),title:"Ajax Search"};s!==!1?s.forEach(function(r){i("create",r,"auto"),i("send","pageview",a)}):i("send","pageview",a)}}},l.AslPlugin.prototype.gaEvent=function(e,t){let s=this,i=s.gaGetTrackingID();if(typeof h.analytics>"u"||h.analytics.method!="event")return!1;let o=typeof window.gtag=="function"?window.gtag:!1,u=typeof window.__gaTracker=="function"?window.__gaTracker:typeof window.ga=="function"?window.ga:!1;if(o===!1&&u===!1&&typeof window.dataLayer>"u")return!1;if(typeof h.analytics.event[e]<"u"&&h.analytics.event[e].active){let a={search_id:s.o.id,search_name:s.o.name,phrase:s.n("text").val(),option_name:"",option_value:"",result_title:"",result_url:"",results_count:""},r={event_category:h.analytics.event[e].category,event_label:h.analytics.event[e].label,value:h.analytics.event[e].value,send_to:""};const c={...a,...t};Object.keys(c).forEach(function(f){let _=c[f];_=String(_).replace(/[\s\n\r]+/g," ").trim(),Object.keys(r).forEach(function(v){let m=new RegExp("{"+f+"}","gmi");r[v]=r[v].replace(m,_)})}),u!==!1?i!==!1?i.forEach(function(f){u("create",f,"auto"),u("send","event",r.event_category,h.analytics.event[e].action,r.event_label,r.value)}):u("send","event",r.event_category,h.analytics.event[e].action,r.event_label,r.value):o!==!1?i!==!1?i.forEach(function(f){r.send_to=f,o("event",h.analytics.event[e].action,r)}):o("event",h.analytics.event[e].action,r):window?.dataLayer?.push!==void 0&&window.dataLayer.push({event:"gaEvent",eventCategory:r.event_category,eventAction:h.analytics.event[e].action,eventLabel:r.event_label})}},l.AslPlugin.prototype.gaGetTrackingID=function(){let e=!1;if(typeof h.analytics>"u")return e;if(typeof h.analytics.tracking_id<"u"&&h.analytics.tracking_id!="")return[h.analytics.tracking_id];if((typeof window.gtag=="function"?window.gtag:!1)===!1&&typeof window.ga<"u"&&typeof window.ga.getAll<"u"){let s=[];return window.ga.getAll().forEach(function(i){s.push(i.get("trackingId"))}),s.length>0?s:!1}return e};var k=null,b=Object(window.WPD).DoMini,n=p.n(b);const g=window.ASL;l.AslPlugin.prototype.getLiveLoadAltSelectors=function(){return[".search-content","#content #posts-container","#content","#Content","div[role=main]","main[role=main]","div.theme-content","div.td-ss-main-content","main#page-content","main.l-content","#primary","#main-content",".main-content",".search section .bde-post-loop",".archive section .bde-post-loop",".search section .bde-post-list",".archive section .bde-post-list","main .wp-block-query","main"]},l.AslPlugin.prototype.usingLiveLoader=function(){const e=this;if(e._usingLiveLoader!==void 0)return e._usingLiveLoader;const t=e.o,s="asp_es_"+t.id,i=this.getLiveLoadAltSelectors().join(",");if(document.getElementsByClassName(s).length)return e._usingLiveLoader=!0;const o=["resPage"];return e._usingLiveLoader=o.some(u=>{const a=t[u];return a.useAjax&&(document.querySelector(a.selector)||i&&document.querySelector(i))}),e._usingLiveLoader},l.AslPlugin.prototype.liveLoad=function(e,t,s,i){if(e=="body"||e=="html")return console.log("Ajax Search Pro: Do not use html or body as the live loader selector."),!1;g.pageHTML==""&&(g._ajax_page_html||(g._ajax_page_html=!0,n().fn.ajax({url:location.href,method:"GET",success:function(c){g.pageHTML=c},dataType:"html"})));function o(c){c=d.Hooks.applyFilters("asl/live_load/raw_data",c,r);let f=new DOMParser,_=f.parseFromString(c,"text/html"),v=n()(_);if(c!=""&&v.length>0&&v.find(e).length>0){c=c.replace(/&asl_force_reset_pagination=1/gmi,""),c=c.replace(/%26asl_force_reset_pagination%3D1/gmi,""),c=c.replace(/&#038;asl_force_reset_pagination=1/gmi,""),(0,d.isSafari)()&&(c=c.replace(/srcset/gmi,"nosrcset")),c=d.Hooks.applyFilters("asl/live_load/html",c,r.o.id,r.o.iid),v=n()(f.parseFromString(c,"text/html"));let m=v.find(e).get(0);if(m=d.Hooks.applyFilters("asl/live_load/replacement_node",m,r,a.get(0),c),m!=null){const w=a.get(0);w!==void 0&&a.get(0)?.parentNode?.replaceChild(m,w)}a=n()(e).first(),s&&(document.title=_.title,history.pushState({},"",t)),n()(e).first().find(".woocommerce-ordering").on("change","select.orderby",function(){n()(this).closest("form").trigger("submit")}),r.addHighlightString(n()(e).find("a")),d.Hooks.applyFilters("asl/live_load/finished",t,r,e,a.get(0)),g.initialize(),r.lastSuccesfulSearch=r.n("searchsettings").find("form").serialize()+r.n("text").val().trim(),r.lastSearchData=c}r.n("s").trigger("asl_search_end",[r.o.id,r.o.iid,r.n("text").val(),c],!0,!0),r.gaEvent?.("search_end",{results_count:"unknown"}),r.gaPageview?.(r.n("text").val()),r.hideLoader(),a.css("opacity",1),r.searching=!1,r.n("text").val()!=""&&r.n("proclose").css({display:"block"})}s=typeof s>"u"?this.o.trigger.update_href:s,i=typeof i>"u"?!1:i;let u=this.getLiveLoadAltSelectors();if(e!="#main"&&u.unshift("#main"),n()(e).length<1&&(u.forEach(function(c){if(n()(c).length>0)return e=c,!1}),n()(e).length<1))return console.log("Ajax Search Lite: The live search selector does not exist on the page."),!1;e=d.Hooks.applyFilters("asl/live_load/selector",e,this);let a=n()(e).first(),r=this;r.searchAbort(),a.css("opacity",.4),d.Hooks.applyFilters("asl/live_load/start",t,r,e,a.get(0)),!i&&r.n("searchsettings").find("input[name=filters_initial]").val()==1&&r.n("text").val()==""?(0,d.intervalUntilExecute)(function(){o(g.pageHTML)},function(){return g.pageHTML!=""}):(r.searching=!0,r.post=n().fn.ajax({url:t,method:"GET",success:function(c){o(c)},dataType:"html",fail:function(c){a.css("opacity",1),!(c.status===0&&c.readyState===c.UNSENT)&&(a.html("This request has failed. Please check your connection."),r.hideLoader(),r.searching=!1,r.n("proclose").css({display:"block"}))}}))},l.AslPlugin.prototype.getCurrentLiveURL=function(){let e=this,t="asl_ls="+(0,d.nicePhrase)(e.n("text").val()),s="&",i=window.location.href;i=i.indexOf("asl_ls=")>-1?i.slice(0,i.indexOf("asl_ls=")):i,i=i.indexOf("asl_ls&")>-1?i.slice(0,i.indexOf("asl_ls&")):i,i=i.indexOf("p_asid=")>-1?i.slice(0,i.indexOf("p_asid=")):i,i=i.indexOf("asl_")>-1?i.slice(0,i.indexOf("asl_")):i,i.indexOf("?")===-1&&(s="?");let o=i+s+t+"&asl_active=1&asl_force_reset_pagination=1&p_asid="+e.o.id+"&p_asl_data=1&"+e.n("searchsettings").find("form").serialize();return o=o.replace("?&","?"),o};var D=null;l.AslPlugin.prototype.showLoader=function(){this.n("proloading").css({display:"block"})},l.AslPlugin.prototype.hideLoader=function(){let e=this;e.n("proloading").css({display:"none"}),e.n("results").css("display","")};var S=null;const y=window.ASL;l.AslPlugin.prototype.loadASLFonts=function(){y.font_url!==!1&&(new FontFace("aslsicons2","url("+y.font_url+")",{style:"normal",weight:"normal",display:"swap"}).load().then(function(t){document.fonts.add(t)}).catch(function(t){}),y.font_url=!1)},l.AslPlugin.prototype.updateHref=function(){if(this.o.trigger.update_href&&!this.usingLiveLoader()){let e=this.getStateURL()+(this.resultsOpened?"&asl_s=":"&asl_ls=")+this.n("text").val();history.replaceState("","",e.replace(location.origin,""))}},l.AslPlugin.prototype.fixClonedSelf=function(){let e=this,t=e.o.iid,s=e.o.rid;for(;!y.instances.set(e)&&(++e.o.iid,!(e.o.iid>50)););if(t!=e.o.iid){e.o.rid=e.o.id+"_"+e.o.iid;const i=e.n("search").get(0);i!==void 0&&(i.id="ajaxsearchlite"+e.o.rid,e.n("search").removeClass("asl_m_"+s).addClass("asl_m_"+e.o.rid).data("instance",e.o.iid));const o=e.n("searchsettings").get(0);o!==void 0&&(o.id=o.id.replace("settings"+s,"settings"+e.o.rid)),e.n("searchsettings").hasClass("asl_s_"+s)?e.n("searchsettings").removeClass("asl_s_"+s).addClass("asl_s_"+e.o.rid).data("instance",e.o.iid):e.n("searchsettings").removeClass("asl_sb_"+s).addClass("asl_sb_"+e.o.rid).data("instance",e.o.iid);const u=e.n("resultsDiv").get(0);u!==void 0&&(u.id=u.id.replace("prores"+s,"prores"+e.o.rid),e.n("resultsDiv").removeClass("asl_r_"+s).addClass("asl_r_"+e.o.rid).data("instance",e.o.iid));const a=e.n("container").find(".asl_init_data").get(0);a!==void 0&&(e.n("container").find(".asl_init_data").data("instance",e.o.iid),a.id=a.id.replace("asl_init_id_"+s,"asl_init_id_"+e.o.rid)),e.n("prosettings").data("opened",0)}},l.AslPlugin.prototype.destroy=function(){let e=this;Object.keys(e.nodes).forEach(function(t){e.nodes[t].off?.()}),e.n("searchsettings").remove?.(),e.n("resultsDiv").remove?.(),e.n("search").remove?.(),e.n("container").remove?.(),e.documentEventHandlers.forEach(function(t){n()(t.node).off(t.event,t.handler)})};var L=null;l.AslPlugin.prototype.isRedirectToFirstResult=function(){return!!((this.n("resultsDiv").find(".asl_res_url").length>0||n()(".asl_es_"+this.o.id+" a").length>0||this.o.resPage.useAjax&&n()(this.o.resPage.selector+"a").length>0)&&(this.o.redirectOnClick&&this.ktype=="click"&&this.o.trigger.click=="first_result"||this.o.redirectOnEnter&&(this.ktype=="input"||this.ktype=="keyup")&&this.keycode==13&&this.o.trigger.return=="first_result"))},l.AslPlugin.prototype.doRedirectToFirstResult=function(){let e,t="";return this.ktype=="click"?e=this.o.trigger.click_location:e=this.o.trigger.return_location,this.n("resultsDiv").find(".asl_res_url").length>0?t=n()(this.n("resultsDiv").find(".asl_res_url").get(0)).attr("href"):n()(".asl_es_"+this.o.id+" a").length>0?t=n()(n()(".asl_es_"+this.o.id+" a").get(0)).attr("href"):this.o.resPage.useAjax&&n()(this.o.resPage.selector+"a").length>0&&(t=n()(n()(this.o.resPage.selector+"a").get(0)).attr("href")),t!==""&&(e=="same"?window.location.href=t:(0,d.openInNewTab)(t),this.hideLoader(),this.hideResults()),!1},l.AslPlugin.prototype.doRedirectToResults=function(e){let t;e=="click"?t=this.o.trigger.click_location:t=this.o.trigger.return_location;let s=this.getRedirectURL(e);if(this.o.overridewpdefault){if(this.o.resPage.useAjax)return this.hideResults(),this.liveLoad(this.o.resPage.selector,s),this.showLoader(),!1;this.o.override_method=="post"?(0,d.submitToUrl)(s,"post",{asl_active:1,p_asl_data:this.n("searchsettings").find("form").serialize()},t):t=="same"?location.href=s:(0,d.openInNewTab)(s)}else(0,d.submitToUrl)(s,"post",{np_asl_data:this.n("searchsettings").find("form").serialize()},t);this.n("proloading").css("display","none"),this.hideLoader(),this.hideResults(),this.searchAbort()},l.AslPlugin.prototype.getRedirectURL=function(e="enter"){let t,s,i,o;if(e=="click"?s=this.o.trigger.click:s=this.o.trigger.return,s=="results_page"||s=="ajax_search"?t="?s="+(0,d.nicePhrase)(this.n("text").val()):s=="woo_results_page"?t="?post_type=product&s="+(0,d.nicePhrase)(this.n("text").val()):(o=this.o.trigger.redirect_url,t=o.replace(/{phrase}/g,(0,d.nicePhrase)(this.n("text").val()))),this.o.homeurl.indexOf("?")>1&&t.indexOf("?")===0&&(t=t.replace("?","&")),this.o.overridewpdefault&&this.o.override_method!="post"){let u="&";this.o.homeurl.indexOf("?")===-1&&t.indexOf("?")===-1&&(u="?");let a=t+u+"asl_active=1&p_asl_data=1&"+this.n("searchsettings").find("form").serialize();i=this.o.homeurl+a}else i=this.o.homeurl+t;return i=i.replace("https://","https:///"),i=i.replace("http://","http:///"),i=i.replace(/\/\//g,"/"),i=d.Hooks.applyFilters("asl/redirect/url",i,this.o.id,this.o.iid),i};var T=null;l.AslPlugin.prototype.showResults=function(){let e=this;e.initResults(),e.showVerticalResults(),e.hideLoader(),e.n("proclose").css({display:"block"}),e.n("showmore")!=null&&(e.n("items").length>0?e.n("showmore").css({display:"block"}):e.n("showmore").css({display:"none"})),e.resultsOpened=!0},l.AslPlugin.prototype.hideResults=function(e=!0){let t=this;if(!t.resultsOpened)return!1;t.n("resultsDiv").removeClass(t.resAnim.showClass).addClass(t.resAnim.hideClass),setTimeout(function(){t.n("resultsDiv").css(t.resAnim.hideCSS)},t.resAnim.duration),t.n("proclose").css({display:"none"}),(0,d.isMobile)()&&e&&document.activeElement?.blur(),t.resultsOpened=!1,t.n("s").trigger("asl_results_hide",[t.o.id,t.o.iid],!0,!0)},l.AslPlugin.prototype.showResultsBox=function(){let e=this;e.n("s").trigger("asl_results_show",[e.o.id,e.o.iid],!0,!0),e.n("resultsDiv").css({display:"block",height:"auto"}),e.n("resultsDiv").css(e.resAnim.showCSS),e.n("resultsDiv").removeClass(e.resAnim.hideClass).addClass(e.resAnim.showClass),e.fixResultsPosition(!0)},l.AslPlugin.prototype.addHighlightString=function(e){let t=this,s=t.n("text").val().replace(/["']/g,"");e=typeof e>"u"?t.n("items").find("a.asl_res_url"):e,t.o.singleHighlight&&s!=""&&e.length>0&&e.forEach(function(i){try{const o=new URL(n()(i).attr("href"));o.searchParams.set("asl_highlight",s),o.searchParams.set("p_asid",String(t.o.id)),n()(i).attr("href",o.href)}catch{}})},l.AslPlugin.prototype.scrollToResults=function(){let e=this,t=Math.floor(window.innerHeight*.1),s;if(!e.resultsOpened||!e.o.scrollToResults.enabled||e.n("resultsDiv").inViewPort(t))return;e.o.resultsposition=="hover"?s=e.n("probox").offset().top-20:s=e.n("resultsDiv").offset().top-20,s=s+e.o.scrollToResults.offset;let i=n()("#wpadminbar");i.length>0&&(s-=i.height()),s=s<0?0:s,window.scrollTo({top:s,behavior:"smooth"})};var R=null;const P=window.ASL;l.AslPlugin.prototype.searchAbort=function(){let e=this;e.post!=null&&e.post.abort()},l.AslPlugin.prototype.searchWithCheck=function(e=50){let t=this;t.n("text").val().length<t.o.charcount||(t.searchAbort(),clearTimeout(t.timeouts.searchWithCheck),t.timeouts.searchWithCheck=setTimeout(function(){t.search()},e))},l.AslPlugin.prototype.search=function(){let e=this;if(e.searching,e.n("text").val().length<e.o.charcount)return;e.searching=!0,e.n("proloading").css({display:"block"}),e.n("proclose").css({display:"none"});let t={action:"ajaxsearchlite_search",aslp:e.n("text").val(),asid:e.o.id,options:e.n("searchsettings").find("form").serialize()};if(t=d.Hooks.applyFilters("asl/search/data",t),JSON.stringify(t)===JSON.stringify(e.lastSearchData))return e.resultsOpened||e.showResults(),e.hideLoader(),e.isRedirectToFirstResult()&&e.doRedirectToFirstResult(),!1;e.gaEvent?.("search_start"),n()(".asl_es_"+e.o.id).length>0?e.liveLoad(".asl_es_"+e.o.id,e.getCurrentLiveURL(),!1):e.o.resPage.useAjax?e.liveLoad(e.o.resPage.selector,e.getRedirectURL()):e.post=n().fn.ajax({url:P.ajaxurl,method:"POST",data:t,success:function(s){let i=s.replace(/^\s*[\r\n]/gm,"");const o=i.match(/___ASLSTART___(.*[\s\S]*)___ASLEND___/);if(o===null){e.hideLoader(),console.warn("The response inner data is missing!");return}if(i=o[1],i=d.Hooks.applyFilters("asl/search/html",i),e.n("resdrg").html(""),e.n("resdrg").html(i),e.n("resdrg").find(".asl_keyword").on("click",function(){e.n("text").val(n()(this).html()),e.n("container").find("input.orig").val(n()(this).html()).trigger("keydown"),e.n("container").find("form").trigger("submit",["ajax"]),e.search()}),e.nodes.items=e.n("resultsDiv").find(".item"),e.addHighlightString(),e.gaEvent?.("search_end",{results_count:e.n("items").length}),e.gaPageview?.(e.n("text").val()),e.isRedirectToFirstResult())return e.doRedirectToFirstResult(),!1;e.hideLoader(),e.showResults(),e.scrollToResults(),e.lastSuccesfulSearch=e.n("searchsettings").find("form").serialize()+e.n("text").val().trim(),e.lastSearchData=t,e.updateHref(),e.n("items").length==0?e.n("showmore")!=null&&e.n("showmore").css("display","none"):e.n("showmore")!=null&&(e.n("showmore").css("display","block"),e.n("showmore").find("span").off(),e.n("showmore").find("span").on("click",function(){let u=e.o.trigger.click,a;u=="results_page"?a="?s="+(0,d.nicePhrase)(e.n("text").val()):u=="woo_results_page"?a="?post_type=product&s="+(0,d.nicePhrase)(e.n("text").val()):a=e.o.trigger.redirect_url.replace("{phrase}",(0,d.nicePhrase)(e.n("text").val())),e.o.overridewpdefault?e.o.override_method=="post"?(0,d.submitToUrl)(e.o.homeurl+a,"post",{asl_active:1,p_asl_data:e.n("searchsettings").find("form").serialize()}):location.href=e.o.homeurl+a+"&asl_active=1&p_asid="+e.o.id+"&p_asl_data=1&"+e.n("searchsettings").find("form").serialize():(0,d.submitToUrl)(e.o.homeurl+a,"post",{np_asl_data:e.n("searchsettings").find("form").serialize()})})),d.Hooks.applyFilters("asl/search/end",e,t)},fail:function(s){e.n("resdrg").html(""),e.n("resdrg").html('<div class="asl_nores">The request failed. Please check your connection! Status: '+s.status+"</div>"),e.nodes.items=e.n("resultsDiv").find(".item"),e.hideLoader(),e.showResults(),e.scrollToResults()}})};var E=null;l.AslPlugin.prototype.searchFor=function(e){typeof e<"u"&&this.n("text").val(e),this.n("textAutocomplete").val(""),this.search()},l.AslPlugin.prototype.toggleSettings=function(e){typeof e<"u"?e=="show"?this.showSettings():this.hideSettings():parseInt(this.n("prosettings").data("opened"))===1?this.hideSettings():this.showSettings()},l.AslPlugin.prototype.closeResults=function(e){typeof e<"u"&&e&&(this.n("text").val(""),this.n("textAutocomplete").val("")),this.hideResults(),this.n("proloading").css("display","none"),this.hideLoader(),this.searchAbort()},l.AslPlugin.prototype.getStateURL=function(){let e,t;return e=location.href.split("p_asid")[0],e=e.replace("&asl_active=1",""),e=e.replace("?asl_active=1",""),e=e.slice(-1)=="?"?e.slice(0,-1):e,e=e.slice(-1)=="&"?e.slice(0,-1):e,t=e.indexOf("?")>1?"&":"?",e+t+"p_asid="+this.o.id+"&p_asl_data=1&"+this.n("searchsettings").find("form").serialize()},l.AslPlugin.prototype.filtersInitial=function(){return this.n("searchsettings").find("input[name=filters_initial]").val()==1},l.AslPlugin.prototype.filtersChanged=function(){return this.n("searchsettings").find("input[name=filters_changed]").val()==1};var C=null;l.AslPlugin.prototype.detectAndFixFixedPositioning=function(){let e=this,t=!1,s=e.n("search").get(0);for(;s;)if(s=s.parentElement,s!=null&&window.getComputedStyle(s).position==="fixed"){t=!0;break}t||e.n("search").css("position")=="fixed"?(e.n("resultsDiv").css("position")=="absolute"&&e.n("resultsDiv").css({position:"fixed","z-index":2147483647}),e.o.blocking||e.n("searchsettings").css({position:"fixed","z-index":2147483647})):(e.n("resultsDiv").css("position")=="fixed"&&e.n("resultsDiv").css("position","absolute"),e.o.blocking||e.n("searchsettings").css("position","absolute"))},l.AslPlugin.prototype.fixResultsPosition=function(e=!1){let t=this,s=n()("body"),i=0,o=t.n("resultsDiv").css("position");if((n()._fn.bodyTransformY()!=0||s.css("position")!="static")&&(i=s.offset().top),n()._fn.bodyTransformY()!=0&&o=="fixed"&&(o="absolute",t.n("resultsDiv").css("position","absolute")),o=="fixed"&&(i=0),!(o!="fixed"&&o!="absolute")&&(e||t.n("resultsDiv").css("visibility")=="visible")){let u=t.n("search").offset(),a=0;if((n()._fn.bodyTransformX()!=0||s.css("position")!="static")&&(a=s.offset().left),typeof u<"u"){let r,c=0;(0,d.deviceType)()==="phone"?r=t.o.results.width_phone:(0,d.deviceType)()=="tablet"?r=t.o.results.width_tablet:r=t.o.results.width,r=="auto"&&(r=t.n("search").outerWidth()<240?240:t.n("search").outerWidth()),t.n("resultsDiv").css("width",(0,d.isNumeric)(r)?r+"px":r),t.o.resultsSnapTo=="right"?c=t.n("resultsDiv").outerWidth()-t.n("search").outerWidth():t.o.resultsSnapTo=="center"&&(c=Math.floor((t.n("resultsDiv").outerWidth()-parseInt(String(t.n("search").outerWidth())))/2)),t.n("resultsDiv").css({top:u.top+t.n("search").outerHeight(!0)-i+"px",left:u.left-c-a+"px"})}}},l.AslPlugin.prototype.fixSettingsPosition=function(e=!1){let t=this,s=n()("body"),i=0,o=t.n("searchsettings").css("position");if((n()._fn.bodyTransformY()!=0||s.css("position")!="static")&&(i=s.offset().top),n()._fn.bodyTransformY()!=0&&o=="fixed"&&(o="absolute",t.n("searchsettings").css("position","absolute")),o=="fixed"&&(i=0),e||t.n("prosettings").data("opened")!=="0"){let u,a,r,c,f=0;(n()._fn.bodyTransformX()!=0||s.css("position")!="static")&&(f=s.offset().left),t.fixSettingsWidth(),t.n("prosettings").css("display")!="none"?u=t.n("prosettings"):u=t.n("promagnifier"),a=u.offset(),r=a.top+u.height()-2-i+"px",c=t.o.settingsimagepos=="left"?a.left:a.left+u.width()-t.n("searchsettings").width(),c=c-f+"px",t.n("searchsettings").css({display:"block",top:r,left:c})}},l.AslPlugin.prototype.fixSettingsWidth=function(){},l.AslPlugin.prototype.hideOnInvisibleBox=function(){let e=this;e.o.detectVisibility&&!e.n("search").hasClass("hiddend")&&(e.n("search").is(":hidden")||!e.n("search").is(":visible"))&&(e.hideSettings?.(),e.hideResults())};var O=null;l.AslPlugin.prototype.initMagnifierEvents=function(){let e=this,t;e.n("promagnifier").on("click",function(s){if(e.keycode=s.keyCode||s.which,e.ktype=s.type,e.gaEvent?.("magnifier"),e.n("text").val().length>=e.o.charcount&&e.o.redirectOnClick&&e.o.trigger.click!=="first_result")return e.doRedirectToResults("click"),clearTimeout(t),!1;if(!(e.o.trigger.click=="ajax_search"||e.o.trigger.click=="first_result"))return!1;e.searchAbort(),clearTimeout(e.timeouts.search),e.n("proloading").css("display","none"),e.timeouts.search=setTimeout(function(){e.n("searchsettings").find("form").serialize()+e.n("text").val().trim()!=e.lastSuccesfulSearch||!e.resultsOpened&&!e.usingLiveLoader()?e.search():e.isRedirectToFirstResult()?e.doRedirectToFirstResult():e.n("proclose").css("display","block")},e.o.trigger.delay)})};var F=null;l.AslPlugin.prototype.initInputEvents=function(){let e=this,t=!1,s=function(){e.n("text").off("mousedown touchstart keydown",s),t||(e._initFocusInput(),e.o.trigger.type&&e._initSearchInput(),e._initEnterEvent(),e._initFormEvent(),e.initAutocompleteEvent?.(),t=!0)};e.n("text").on("mousedown touchstart keydown",s,{passive:!0})},l.AslPlugin.prototype._initFocusInput=function(){let e=this;e.n("text").on("click",function(t){if(t.stopPropagation(),t.stopImmediatePropagation(),n()(this).trigger("focus",[]),e.gaEvent?.("focus"),e.n("searchsettings").find("form").serialize()+e.n("text").val().trim()==e.lastSuccesfulSearch)return!e.resultsOpened&&!e.usingLiveLoader()&&e.showResults(),!1}),e.n("text").on("focus input",function(t){e.searching||(n()(this).val()!=""?e.n("proclose").css("display","block"):e.n("proclose").css({display:"none"}))})},l.AslPlugin.prototype._initSearchInput=function(){let e=this;e.n("text").on("input",function(t){if(e.keycode=t.keyCode||t.which,e.ktype=t.type,e.updateHref(),e.n("text").val().length<e.o.charcount)return e.n("proloading").css("display","none"),e.hideResults(!1),e.searchAbort(),clearTimeout(e.timeouts.search),!1;e.searchAbort(),clearTimeout(e.timeouts.search),e.n("proloading").css("display","none"),e.timeouts.search=setTimeout(function(){e.n("searchsettings").find("form").serialize()+e.n("text").val().trim()!=e.lastSuccesfulSearch||!e.resultsOpened&&!e.usingLiveLoader()?e.search():e.isRedirectToFirstResult()?e.doRedirectToFirstResult():e.n("proclose").css("display","block")},e.o.trigger.delay)})},l.AslPlugin.prototype._initEnterEvent=function(){let e=this,t,s=!1;e.n("text").on("keyup",function(i){if(e.keycode=i.keyCode||i.which,e.ktype=i.type,e.keycode==13){if(clearTimeout(t),t=setTimeout(function(){s=!1},300),s)return!1;s=!0}let o=n()(this).hasClass("orig");e.n("text").val().length>=e.o.charcount&&o&&e.keycode==13&&(e.gaEvent?.("return"),e.o.redirectOnEnter?e.o.trigger.return!="first_result"?e.doRedirectToResults(e.ktype):e.search():e.o.trigger.return=="ajax_search"&&(e.n("searchsettings").find("form").serialize()+e.n("text").val().trim()!=e.lastSuccesfulSearch||!e.resultsOpened&&!e.usingLiveLoader())&&e.search(),clearTimeout(e.timeouts.search))})},l.AslPlugin.prototype._initFormEvent=function(){let e=this;n()(e.n("text").closest("form").get(0)).on("submit",function(t,s){if(t.preventDefault(),(0,d.isMobile)())if(e.o.redirectOnEnter){let i=new Event("keyup");i.keyCode=i.which=13,e.n("text").get(0).dispatchEvent(i)}else e.search(),document?.activeElement?.blur();else typeof s<"u"&&s=="ajax"&&e.search()})},l.AslPlugin.prototype.initNavigationEvents=function(){let e=this,t=function(s){let i=s.keyCode||s.which;if(n()(".item",e.n("resultsDiv")).length>0&&e.n("resultsDiv").css("display")!="none"&&e.o.resultstype=="vertical"){if(i==40||i==38){let o=e.n("resultsDiv").find(".item.hovered");if(e.n("text").trigger("blur",[]),o.length==0?e.n("resultsDiv").find(".item").first().addClass("hovered"):(i==40&&(o.next(".item").length==0?e.n("resultsDiv").find(".item").removeClass("hovered").first().addClass("hovered"):o.removeClass("hovered").next(".item").addClass("hovered")),i==38&&(o.prev(".item").length==0?e.n("resultsDiv").find(".item").removeClass("hovered").last().addClass("hovered"):o.removeClass("hovered").prev(".item").addClass("hovered"))),s.stopPropagation(),s.preventDefault(),!e.n("resultsDiv").find(".resdrg .item.hovered").inViewPort(50,e.n("resultsDiv").get(0))){let u=e.n("resultsDiv").find(".resdrg .item.hovered").get(0);u!=null&&typeof u.scrollIntoView<"u"&&u.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}i==13&&e.n("resultsDiv").find(".item.hovered").length>0&&(s.stopPropagation(),s.preventDefault(),e.n("resultsDiv").find(".item.hovered a.asl_res_url").get(0).click())}};e.documentEventHandlers.push({node:document,event:"keydown",handler:t}),n()(document).on("keydown",t)},l.AslPlugin.prototype.initOtherEvents=function(){let e=this,t,s;(0,d.isMobile)()&&(0,d.detectIOS)()&&e.n("text").on("touchstart",function(){e.savedScrollTop=window.scrollY,e.savedContainerTop=e.n("search").offset().top}),e.n("proclose").on(e.clickTouchend,function(i){i.preventDefault(),i.stopImmediatePropagation(),e.n("text").val(""),e.n("textAutocomplete").val(""),e.hideResults(),e.n("text").trigger("focus",[]),e.n("proloading").css("display","none"),e.hideLoader(),e.searchAbort(),n()(".asl_es_"+e.o.id).length>0?(e.showLoader(),e.liveLoad(".asl_es_"+e.o.id,e.getCurrentLiveURL(),!1)):e.o.resPage.useAjax&&(e.showLoader(),e.liveLoad(e.o.resPage.selector,e.getRedirectURL())),e.n("text").get(0).focus()}),(0,d.isMobile)()?(t=function(){e.orientationChange(),setTimeout(function(){e.orientationChange()},600)},e.documentEventHandlers.push({node:window,event:"orientationchange",handler:t}),n()(window).on("orientationchange",t)):(t=function(){e.resize()},e.documentEventHandlers.push({node:window,event:"resize",handler:t}),n()(window).on("resize",t,{passive:!0})),s=function(){e.scrolling(!1)},e.documentEventHandlers.push({node:window,event:"scroll",handler:s}),n()(window).on("scroll",s,{passive:!0}),(0,d.isMobile)()&&e.o.mobile.menu_selector!=""&&n()(e.o.mobile.menu_selector).on("touchend",function(){let i=this;setTimeout(function(){let o=n()(i).find("input.orig");o=o.length==0?n()(i).next().find("input.orig"):o,o=o.length==0?n()(i).parent().find("input.orig"):o,o=o.length==0?e.n("text"):o,e.n("search").inViewPort()&&o.get(0).focus()},300)}),(0,d.detectIOS)()&&(0,d.isMobile)()&&(0,d.isTouchDevice)()&&parseInt(e.n("text").css("font-size"))<16&&(e.n("text").data("fontSize",e.n("text").css("font-size")).css("font-size","16px"),e.n("textAutocomplete").css("font-size","16px"),n()("body").append("<style>#ajaxsearchlite"+e.o.rid+" input.orig::-webkit-input-placeholder{font-size: 16px !important;}</style>"))},l.AslPlugin.prototype.orientationChange=function(){let e=this;e.detectAndFixFixedPositioning(),e.fixSettingsPosition(),e.fixResultsPosition()},l.AslPlugin.prototype.resize=function(){let e=this;e.detectAndFixFixedPositioning(),e.fixSettingsPosition(),e.fixResultsPosition()},l.AslPlugin.prototype.scrolling=function(e){let t=this;t.detectAndFixFixedPositioning(),t.hideOnInvisibleBox(),t.fixSettingsPosition(e),t.fixResultsPosition(e)},l.AslPlugin.prototype.initResultsEvents=function(){let e=this;e.n("resultsDiv").css({opacity:"0"});let t=function(s){let i=s.keyCode||s.which,o=s.type;if(n()(s.target).closest(".asl_w").length==0&&(e.hideOnInvisibleBox(),o!="click"||o!="touchend"||i!=3)){if(!e.resultsOpened||!e.o.closeOnDocClick)return;e.dragging||(e.hideLoader(),e.searchAbort(),e.hideResults())}};e.documentEventHandlers.push({node:document,event:e.clickTouchend,handler:t}),n()(document).on(e.clickTouchend,t),e.n("resultsDiv").on("click",".results .item",function(){e.gaEvent?.("result_click",{result_title:n()(this).find("a.asl_res_url").text(),result_url:n()(this).find("a.asl_res_url").attr("href")})})};var $=null;l.AslPlugin.prototype.monitorTouchMove=function(){let e=this;e.dragging=!1,n()("body").on("touchmove",function(){e.dragging=!0}).on("touchstart",function(){e.dragging=!1})};var j=null;l.AslPlugin.prototype.init=function(e,t){return this.o={...this.o,...e},this.nodes={},this.nodes.search=n()(t),this.initNodeVariables(),this.o.redirectOnClick=this.o.trigger.click!="ajax_search"&&this.o.trigger.click!="nothing",this.o.redirectOnEnter=this.o.trigger.return!="ajax_search"&&this.o.trigger.return!="nothing",this.usingLiveLoader()&&(this.o.trigger.type=this.o.resPage.trigger_type,this.o.trigger.facet=this.o.resPage.trigger_facet,this.o.resPage.trigger_magnifier&&(this.o.redirectOnClick=!1,this.o.trigger.click="ajax_search"),this.o.resPage.trigger_return&&(this.o.redirectOnEnter=!1,this.o.trigger.return="ajax_search")),this.monitorTouchMove(),this.initEvents(),this.n("s").trigger("asl_init_search_bar",[this.o.id,this.o.iid],!0,!0),this},l.AslPlugin.prototype.n=function(e){if(typeof this.nodes[e]<"u")return this.nodes[e];switch(e){case"s":this.nodes[e]=this.nodes.search;break;case"container":this.nodes[e]=this.nodes.search.closest(".asl_w_container");break;case"searchsettings":this.nodes[e]=this.n("container").find(".asl_s");break;case"resultsDiv":this.nodes[e]=this.n("container").find(".asl_r");break;case"probox":this.nodes[e]=this.nodes.search.find(".probox");break;case"proinput":this.nodes[e]=this.nodes.search.find(".proinput");break;case"text":this.nodes[e]=this.nodes.search.find(".proinput input.orig");break;case"textAutocomplete":this.nodes[e]=this.nodes.search.find(".proinput input.autocomplete");break;case"proloading":this.nodes[e]=this.nodes.search.find(".proloading");break;case"proclose":this.nodes[e]=this.nodes.search.find(".proclose");break;case"promagnifier":this.nodes[e]=this.nodes.search.find(".promagnifier");break;case"prosettings":this.nodes[e]=this.nodes.search.find(".prosettings");break;case"settingsAppend":this.nodes[e]=n()("#wpdreams_asl_settings_"+this.o.id);break;case"resultsAppend":this.nodes[e]=n()("#wpdreams_asl_results_"+this.o.id);break;case"trythis":this.nodes[e]=n()("#asp-try-"+this.o.rid);break;case"hiddenContainer":this.nodes[e]=this.n("container").find(".asl_hidden_data");break;case"aspItemOverlay":this.nodes[e]=this.n("hiddenContainer").find(".asl_item_overlay");break;case"showmore":this.nodes[e]=this.n("resultsDiv").find(".showmore");break;case"items":this.nodes[e]=this.n("resultsDiv").find(".item").length>0?this.n("resultsDiv").find(".item"):this.n("resultsDiv").find(".photostack-flip");break;case"results":this.nodes[e]=this.n("resultsDiv").find(".results");break;case"resdrg":this.nodes[e]=this.n("resultsDiv").find(".resdrg");break}return this.nodes[e]},l.AslPlugin.prototype.initNodeVariables=function(){let e=this;e.o.id=parseInt(e.nodes.search.data("id")),e.o.iid=parseInt(e.nodes.search.data("instance")),e.o.rid=e.o.id+"_"+e.o.iid,e.fixClonedSelf()},l.AslPlugin.prototype.initEvents=function(){this.initSettingsSwitchEvents?.(),this.initOtherEvents(),this.initMagnifierEvents(),this.initInputEvents()};var I=null;l.AslPlugin.prototype.initResults=function(){this.resultsInitialized||(this.initResultsBox(),this.initResultsEvents(),this.initNavigationEvents?.())},l.AslPlugin.prototype.initResultsBox=function(){let e=this;e.initResultsAnimations(),(0,d.isMobile)()&&e.o.mobile.force_res_hover==1?(e.o.resultsposition="hover",e.nodes.resultsDiv=e.n("resultsDiv").clone(),n()("body").append(e.nodes.resultsDiv),e.nodes.resultsDiv.css({position:"absolute"}),e.detectAndFixFixedPositioning()):e.o.resultsposition=="hover"&&e.n("resultsAppend").length<=0?(e.nodes.resultsDiv=e.n("resultsDiv").clone(),n()("body").append(e.n("resultsDiv"))):(e.o.resultsposition="block",e.n("resultsDiv").css({position:"static"}),e.n("resultsAppend").length>0&&(e.n("resultsAppend").find(".asl_w").length>0?e.nodes.resultsDiv=e.n("resultsAppend").find(".asl_w"):(e.nodes.resultsDiv=e.n("resultsDiv").clone(),e.nodes.resultsAppend.append(e.n("resultsDiv"))))),e.nodes.showmore=e.n("resultsDiv").find(".showmore"),e.nodes.items=e.n("resultsDiv").find(".item").length>0?e.n("resultsDiv").find(".item"):e.n("resultsDiv").find(".photostack-flip"),e.nodes.results=e.n("resultsDiv").find(".results"),e.nodes.resdrg=e.n("resultsDiv").find(".resdrg"),e.n("resultsDiv").get(0).id=e.n("resultsDiv").get(0).id.replace("__original__",""),e.detectAndFixFixedPositioning(),e.resultsInitialized=!0},l.AslPlugin.prototype.initResultsAnimations=function(){this.n("resultsDiv").css({"-webkit-animation-duration":this.resAnim.duration+"ms","animation-duration":this.resAnim.duration+"ms"})};var z=null;Object(window.WPD).AjaxSearchLite=x.default})();
